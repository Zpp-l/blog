---
title: NextJS混合开发模式
image: >-
  https://tse2-mm.cn.bing.net/th/id/OIP-C.5ibXN6ICSxu7FXSAEAn-xQHaDc?w=333&h=162&c=7&r=0&o=5&dpr=1.5&pid=1.7
createTime: '2023-01-02'
excerpt: 将各种模式杂糅在一起，得到更好的提升
---
预渲染支持：
SSG： 静态生成
SSR： 服务端渲染

混用模式：
ISR **增量静态再生成。运行时定期重新生成静态HTML**
SSG降级SSR **未命中预先生成的静态HTML，立即进行SSR**
SSR带静态缓存 **SSR后将结果缓存起来，下次命中静态缓存直接返回**
SSG结合CSR **编译生成静态部分，CSR填充动态部分**
SSR联动CSR **URL直接访问走SSR，SPA跳转走CSR**

### **SSG + SSR**
> 渲染的过程移到了编译时，从而优化掉这段耗时，从而达到极佳的页面加载性能

SSG 只编译生成小部分热点页面，其余的在运行时通过 SSR 生成。用户请求到来时，根据内容是否需要更新来决定该走 SSR 重新生成还是沿用上次生成的产物

SSG相对于SSR成本低，本地编译生成静态HTML，托管到WEB服务器或者CDN可以性受到预渲染带来的加载性能提升，同时没有应用服务器的高额机器成本。

### **SSG + CSR**
既然 SSG 擅长渲染静态内容，不妨对页面内容进行动静分离，将页面上静态的部分交由 SSG 编译生成，其余动态部分仍通过 CSR 来填充

*tips* 
缩短了页面加载的白屏时间，又避免了SSR的额外成本。加载体验不如纯SSG，因为动态内容需要在客户端二次渲染的时候才能加载出来

### **SSR + CSR**
1. 首屏加载走 SSR：无论用户直接通过 URL 访问的是首页还是二级、三级页，SSR 都能让页面以最快的速度呈现出来
2. 站内跳转走CSR： 之后交互操作中的页面跳转，通过CSR加载新内容
